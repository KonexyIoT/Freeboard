function unique(){return"x"+ ++NOW+ +new Date}function rnow(){return+new Date}function isArray(e){return!!e&&(Array.isArray&&Array.isArray(e)||"number"==typeof e.length)}function each(e,t){if(e&&t)if(isArray(e))for(var n=0,a=e.length;a>n;)t.call(e[n],e[n],n++);else for(var n in e)e.hasOwnProperty&&e.hasOwnProperty(n)&&t.call(e[n],n,e[n])}function build_url(e,t){var n=e.join(URLBIT),a=[];return t?(each(t,function(e,t){var n="object"==typeof t?JSON.stringify(t):t;"undefined"!=typeof t&&null!=t&&encode(n).length>0&&a.push(e+"="+encode(n))}),n+="?"+a.join(PARAMSBIT)):n}function updater(e,t){var n,a=0,r=function(){a+t>rnow()?(clearTimeout(n),n=setTimeout(r,t)):(a=rnow(),e())};return r}function grep(e,t){var n=[];return each(e||[],function(e){t(e)&&n.push(e)}),n}function supplant(e,t){return e.replace(REPL,function(e,n){return t[n]||e})}function timeout(e,t){return setTimeout(e,t)}function make_base_auth(e,t){var n=e+":"+t,a=Base64.encode(n);return"Basic "+a}function KONEXYAPI(e){function t(){return{}}e||(e=t());var n="undefined"!=typeof e.ssl&&e.ssl?"s":"",a="http"+n+"://"+(e.url||"iot.konexy.com"),r="undefined"!=typeof e.uri_thing_list?e.uri_thing_list:"rest/api/thing/list",i="undefined"!=typeof e.uri_thing?e.uri_thing:"rest/api/thing/{thingId}",o="undefined"!=typeof e.uri_thing_status?e.uri_thing_status:"rest/api/thing/{thingId}/status",u="undefined"!=typeof e.uri_thing_log?e.uri_thing_log:"rest/api/log/{thingId}/0",s="undefined"!=typeof e.uri_tree_list?e.uri_tree_list:"rest/api/tree/list",c="undefined"!=typeof e.uri_tree?e.uri_tree:"rest/api/tree/{treePath}",l="undefined"!=typeof e.uri_tree_status?e.uri_tree_status:"rest/api/log/tree/{treePath}/status",f="undefined"!=typeof e.uri_tree_log?e.uri_tree_log:"rest/api/log/tree/{treePath}/0",d="undefined"!=typeof e.thingId?e.thingId:"demo",p="undefined"!=typeof e.tree?e.tree:"demo",h="undefined"!=typeof e.username?e.username:"",g="undefined"!=typeof e.password?e.password:"",m="undefined"!=typeof e.apiKey?e.apiKey:"",b="undefined"!=typeof e.oauth?e.oauth:"";return{urlThingList:function(){return build_url([a,r])},urlThing:function(){return build_url([a,supplant(i,{thingId:d})])},urlThingLog:function(){return build_url([a,supplant(u,{thingId:d})])},urlThingStatus:function(){return build_url([a,supplant(o,{thingId:d})])},urlTreeList:function(){return build_url([a,s])},urlTree:function(e){return build_url(e?[a,supplant(c,{treePath:p+e})]:[a,supplant(c,{treePath:p})])},urlTreeLog:function(e){return build_url(e?[a,supplant(f,{treePath:p+e})]:[a,supplant(f,{treePath:p})])},urlTreeStatus:function(e){return build_url(e?[a,supplant(l,{treePath:p+e})]:[a,supplant(l,{treePath:p})])},authenticationByUsername:function(){return make_base_auth(h,g)},authenticationByAPIKEY:function(){return make_base_auth("#"+m,b)}}}function randomString(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="",a=e;a>0;--a)n+=t[Math.round(Math.random()*(t.length-1))];return n}function validateUrl(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)}window.JSON&&window.JSON.stringify||function(){function toJSON(e){try{return this.valueOf()}catch(t){return null}}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,a,r,i,o,u=gap,s=t[e];switch(s&&"object"==typeof s&&(s=toJSON.call(s,e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(s)){for(i=s.length,n=0;i>n;n+=1)o[n]=str(n,s)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+u+"]":"["+o.join(",")+"]",gap=u,r}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)a=rep[n],"string"==typeof a&&(r=str(a,s),r&&o.push(quote(a)+(gap?": ":":")+r));else for(a in s)Object.hasOwnProperty.call(s,a)&&(r=str(a,s),r&&o.push(quote(a)+(gap?": ":":")+r));return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+u+"}":"{"+o.join(",")+"}",gap=u,r}}window.JSON||(window.JSON={});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var a;if(gap="",indent="","number"==typeof n)for(a=0;n>a;a+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text){return eval("("+text+")")})}();var NOW=1,READY=!1,READY_BUFFER=[],SECOND=1e3,URLBIT="/",PARAMSBIT="&",REPL=/{([\w\-]+)}/g,nextorigin=function(){var e=20,t=Math.floor(Math.random()*e);return function(n,a){return n.indexOf("pubsub.")>0&&n.replace("pubsub","ps"+(a?uuid().split("-")[0]:++t<e?t:t=1))||n}}();!function(e){"use strict";var t,n=e.Base64,a="2.1.9";if("undefined"!=typeof module&&module.exports)try{t=require("buffer").Buffer}catch(r){}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=function(e){for(var t={},n=0,a=e.length;a>n;n++)t[e.charAt(n)]=n;return t}(i),u=String.fromCharCode,s=function(e){if(e.length<2){var t=e.charCodeAt(0);return 128>t?e:2048>t?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,l=function(e){return e.replace(c,s)},f=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),a=[i.charAt(n>>>18),i.charAt(n>>>12&63),t>=2?"=":i.charAt(n>>>6&63),t>=1?"=":i.charAt(63&n)];return a.join("")},d=e.btoa?function(t){return e.btoa(t)}:function(e){return e.replace(/[\s\S]{1,3}/g,f)},p=t?function(e){return(e.constructor===t.constructor?e:new t(e)).toString("base64")}:function(e){return d(l(e))},h=function(e,t){return t?p(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):p(String(e))},g=function(e){return h(e,!0)},m=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),b=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return u((n>>>10)+55296)+u((1023&n)+56320);case 3:return u((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return u((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},y=function(e){return e.replace(m,b)},v=function(e){var t=e.length,n=t%4,a=(t>0?o[e.charAt(0)]<<18:0)|(t>1?o[e.charAt(1)]<<12:0)|(t>2?o[e.charAt(2)]<<6:0)|(t>3?o[e.charAt(3)]:0),r=[u(a>>>16),u(a>>>8&255),u(255&a)];return r.length-=[0,0,2,1][n],r.join("")},_=e.atob?function(t){return e.atob(t)}:function(e){return e.replace(/[\s\S]{1,4}/g,v)},w=t?function(e){return(e.constructor===t.constructor?e:new t(e,"base64")).toString()}:function(e){return y(_(e))},S=function(e){return w(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},k=function(){var t=e.Base64;return e.Base64=n,t};if(e.Base64={VERSION:a,atob:_,btoa:d,fromBase64:S,toBase64:h,utob:l,encode:h,encodeURI:g,btou:y,decode:S,noConflict:k},"function"==typeof Object.defineProperty){var x=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x(function(){return S(this)})),Object.defineProperty(String.prototype,"toBase64",x(function(e){return h(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",x(function(){return h(this,!0)}))}}e.Meteor&&(Base64=e.Base64)}(this),function(){function e(){$(B+" select").change(function(){var e=$(B+" select").val();"plugin7b4b5457ab0e8cb8f8a6f3e6ca957031"==e&&(P(),n(),t())})}function t(){$(Q).change(function(e){var t=$(Q).val();switch(t){case U:r(),s();break;case D:r(),c();break;case M:r(),l();break;default:r(),s()}}),$(ee).change(function(e){var t=$(ee).val();switch(t){case R:i(),f();break;case q:i(),d();break;default:i(),f()}})}function n(){o(["tree","apiKey","oauth"])}function a(){var e=$(Q).val();switch(e){case U:r(),s();break;case D:r(),c();break;case M:r(),l();break;default:r(),s()}var t=$(ee).val();switch(t){case R:i(),f();break;case q:i(),d();break;default:i(),f()}}function r(){var e=["thingId","tree"];o(e)}function i(){var e=["username","password","apiKey","oauth"];o(e)}function o(e){each(e||[],function(e){var t=N+e;$(t).attr("style","display: none")})}function u(e){each(e||[],function(e){var t=N+e;$(t).removeAttr("style")})}function s(){var e=["thingId"];u(e)}function c(){}function l(){var e=["tree"];u(e)}function f(){var e=["username","password"];u(e)}function d(){var e=["apiKey","oauth"];u(e)}function p(){$(B+" select").change(function(){var e=$(B+" select").val();"widget7b4b5457ab0e8cb8f8a6f3e6ca957031"==e&&(P(),g(),h())})}function h(){$(E).on("change",ue,function(e){var t=$(ue).val();switch(t){case J:b(),w();break;case L:b(),S();break;case F:b(),k();break;case Y:b(),x();break;default:b(),w()}}),$(E).on("change",se,function(e){var t=$(se).val();switch(t){case W:y(),A();break;case X:y(),O();break;default:y(),A()}}),$(E).on("change",ce,function(e){var t=$(ce).val();switch(t){case G:v(),C();break;case H:v(),z();break;default:v(),C()}}),$(E).on("change",ee,function(e){var t=$(ee).val();switch(t){case V:i();break;case R:i(),f();break;case q:i(),d();break;default:i()}})}function g(){o(["value","control","dimension","mapping","control_method","msg_on","msg_off","msg_buzz","control_method_mapping","username","password","apiKey","oauth"])}function m(){var e=$(ue).val();switch(e){case J:b(),w();break;case L:b(),S();var t=$(se).val();switch(t){case W:y(),A();break;case X:y(),O();break;default:y()}break;case F:b(),k();break;case Y:b(),x();var n=$(ce).val();switch(n){case G:v(),C();break;case H:v(),z();break;default:v()}break;default:b(),w()}var a=$(ee).val();switch(a){case V:i();break;case R:i(),f();break;case q:i(),d();break;default:i()}}function b(){var e=["value","control","uri","dimension","mapping","control_method","msg_on","msg_off","msg_buzz","control_method_mapping","authMethod","username","password","apiKey","oauth"];o(e)}function y(){var e=["uri"];o(e)}function v(){var e=["msg_on","msg_off","control_method_mapping"];o(e)}function w(){var e=["uri","authMethod"];u(e)}function S(){var e=["value","control","msg_on","msg_off","authMethod"];u(e)}function k(){var e=["uri","msg_buzz","authMethod"];u(e)}function x(){var e=["dimension","mapping","control_method","msg_on","msg_off","authMethod"];u(e)}function A(){}function O(){var e=["uri"];u(e)}function C(){var e=["msg_on","msg_off"];u(e)}function z(){var e=["control_method_mapping"];u(e)}function P(){$(j+"password input").attr("type","password")}function T(e,t){if(validateUrl(e))return e;var n;if(0==e.indexOf("/")){if(!t)return;var a=t.split(te);n=a[1]}if(0==e.search(le)){var a=e.split(le);n=a[1],e=a[2]}if(n){var r=freeboard.getDatasourceSettings(n);if(!r)return void alert("Config object link to datasource is incorrect");var i=KONEXYAPI(r);switch(r.dataObject){case U:tempUrl=i.urlThingLog(e);break;case D:return void alert("The datasource object is not a thing");case M:tempUrl=i.urlTreeLog(e);break;default:return}return tempUrl}}function I(e){var t=KONEXYAPI(e),n="";switch(e.authMethod){case R:n=t.authenticationByUsername();break;case q:n=t.authenticationByAPIKEY()}return n}var j="#setting-value-container-",N="#setting-row-",B="#setting-value-container-plugin-types",E="#modal_overlay",K=3,U="thing",D="list",M="tree",R="username",q="apiKey",J="cmd",L="togglebutton",F="togglebuzzer",Y="board",W="auto",X="none",G="common",H="special",V="none",Z=function(e,t){function n(e){r&&clearInterval(r),r=setInterval(function(){a.updateNow()},e)}var a=this,r=null,i=e,o=!1,u=0;n(1e3*i.refresh),this.updateNow=function(){if(!(u>=K)){var e,n=KONEXYAPI(i);switch(i.dataObject){case U:e=n.urlThingStatus();break;case D:e=n.urlThingList();break;case M:e=n.urlTreeStatus()}var r=I(i);return e?r?void $.ajax({url:e,dataType:"JSON",type:"GET",beforeSend:function(e){try{e.setRequestHeader("Authorization",r)}catch(t){}},success:function(e){o=!0,t(e)},error:function(e,t,n){o||(u++,a.updateNow())},complete:function(e,t){}}):void alert("Can't build Authorization info"):void alert("Can't build url request")}},this.onDispose=function(){clearInterval(r),r=null},this.onSettingsChanged=function(e){o=!1,u=0,i=e,n(1e3*i.refresh),a.updateNow()}};freeboard.loadDatasourcePlugin({type_name:"plugin7b4b5457ab0e8cb8f8a6f3e6ca957031",display_name:"Konexy",settings:[{name:"ssl",display_name:"Enable ssl",description:"",type:"boolean",default_value:!0},{name:"refresh",display_name:"Refresh Every",type:"number",suffix:"seconds",default_value:5},{name:"dataObject",display_name:"Data object",type:"option",options:[{name:"Thing",value:U},{name:"List",value:D},{name:"Tree",value:M}]},{name:"thingId",display_name:"Thing",description:"",type:"text"},{name:"tree",display_name:"Thing path",description:"",type:"text"},{name:"authMethod",display_name:"Authentication method",type:"option",options:[{name:"Username",value:R},{name:"APIKey",value:q}]},{name:"username",display_name:"Username",description:"",type:"text"},{name:"password",display_name:"Password",description:"",type:"password"},{name:"apiKey",display_name:"API Key",description:"",type:"text"},{name:"oauth",display_name:"Oauth",description:"",type:"text"}],newInstance:function(e,t,n){t(new Z(e,n))}}),$("#add-datasource").on("click",function(){e()}),$("#datasources").on("click",".datasource-name",function(n){var r=$(B+" select").val();"plugin7b4b5457ab0e8cb8f8a6f3e6ca957031"==r?(P(),a(),t()):e()});var Q=j+"dataObject select",ee=j+"authMethod select",te=/\[\"([\w\-\s]+)\"\]/g,ne='<div id="{id}" class="form-control"><div class="row"><textarea class=""></textarea><ul class="board-toolbar form-control-suffix"><li><label class="cmd-submit">SEND</label></li></ul></div></div>',ae='<div id="{id}" class="toggle-button-indicator-light"><div class="indicator-light"></div><div class="onoffswitch"><input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="{id}-onoff"><label class="onoffswitch-label" for="{id}-onoff"><div class="onoffswitch-inner"><span class="on">YES</span><span class="off">NO</span></div><div class="onoffswitch-switch"></div></label></div></div>',re='<div id="{id}" class="toggle-buzzer"><button class="buzzer-button"><img src="https://raw.githubusercontent.com/bugvish/sandbox/master/redbutton.png"></button></div>',ie='<div id="{id}" class="board"></div>';freeboard.addStyle(".form-control","padding: 10px 5px 0px 0px;"),freeboard.addStyle(".row","clear: both;height: 30px;"),freeboard.addStyle(".form-control textarea","position: absolute;height: 20px;resize: none;white-space: nowrap;overflow: auto;display: inline-block;height: 20px;padding: 4px 6px;font-size: 14px;line-height: 20px;"),freeboard.addStyle(".form-control-suffix","margin-left: 215px!important;"),freeboard.addStyle(".board-toolbar li label","font-size: 14px!important;"),freeboard.addStyle(".toggle-button-indicator-light .onoffswitch","float: right;"),freeboard.addStyle(".toggle-buzzer","margin-left:90px;"),freeboard.addStyle(".buzzer-button","border:none; background-color:transparent");var oe=function(e){function t(e,t,n,a){return e&&validateUrl(e)&&t&&n?void $.ajax({url:e,dataType:"JSON",type:t,contentType:"application/json",data:n,beforeSend:function(e){try{each(a,function(t,n){"undefined"!=typeof n&&null!=n&&e.setRequestHeader(t,n)})}catch(t){}},success:function(e){},error:function(e,t,n){},complete:function(e,t){}}):!1}function n(){r.find(".indicator-light").toggleClass("on",u),0==s?r.find(".onoffswitch input").prop("checked",u):s&&u==r.find(".onoffswitch input")[0].checked&&(s=!1)}var a,r,i=e,o=$('<h2 class="section-title"></h2>'),u=!1,s=!1;this.updateUI=function(){},this.registerSubmitEvents=function(e){e.find(".cmd-submit").click(function(){var n=e.find("textarea").val();if(!n)return void alert("Please input content before first!");if(i.uri){var a=T(i.uri);if(null!=a&&""!=a){var r;if(i.authMethod!=V&&(r=I(i)),!r){var o,u;if(i.uri&&(u=i.uri.split(le),o=u[1]),!o)return void alert("Data source object is incorrect");var s=freeboard.getDatasourceSettings(o);if(!s)return void alert("Can't build Authorization info");r=I(s)}var c={Authorization:r};t(a,"POST",n,c)}else alert("Url is incorrect")}}),e.find(".onoffswitch input").change(function(){s=!0;var e,n,a=this.checked;switch(e=a?i.msg_on:i.msg_off,i.control){case W:if(n=T("/",i.value),!n)return void alert("Can't build url request");break;case X:if(n=T(i.uri,i.value),!n)return void alert("Can't build url request")}var r;if(i.authMethod!=V&&(r=I(i)),!r){var o,u;if(i.value&&(u=i.value.split(te),o=u[1]),!o)return;var c=freeboard.getDatasourceSettings(o);if(!c)return void alert("Can't build Authorization info");r=I(c)}var l={Authorization:r};t(n,"POST",e,l)}),e.find(".buzzer-button").click(function(){var e,n=i.msg_buzz,a=T(i.uri,i.value);if(!a)return void alert("Can't build url request");var e;if(i&&i.authMethod!=V&&(e=I(i)),!e){var r,o;if(i.uri&&(o=i.uri.split(le),r=o[1]),!r)return void alert("Data source object is incorrect");var u=freeboard.getDatasourceSettings(r);if(!u)return void alert("Can't build Authorization info");e=I(u)}var s={Authorization:e};t(a,"POST",n,s)})},this.render=function(e){switch($(e).empty(),a=randomString(15),i.type){case J:r=$(supplant(ne,{id:a}));break;case L:r=$(supplant(ae,{id:a}));break;case F:console.log("do display TYPE_TOGGLE_BUZZER widget"),r=$(supplant(re,{id:a}));break;case Y:r=$(supplant(ie,{id:a}))}$(e).append(o).append(r),this.registerSubmitEvents(r)},this.onSettingsChanged=function(e){i=e,o.html(_.isUndefined(e.title)?"":e.title),this.updateUI()},this.onCalculatedValueChanged=function(e,t){switch(i.type){case J:break;case L:"value"==e&&(u=Boolean(t)),n();break;case F:break;case Y:}},this.onDispose=function(){},this.getHeight=function(){switch(i.type){case J:return 1.5;case L:return 1;case F:return 2;default:return 1}},this.onSettingsChanged(e)};freeboard.loadWidgetPlugin({type_name:"widget7b4b5457ab0e8cb8f8a6f3e6ca957031",display_name:"Konexy",settings:[{name:"title",display_name:"Title",type:"text"},{name:"type",display_name:"Konexy Widget Type",type:"option",options:[{name:"Command",value:J},{name:"Toggle Button",value:L},{name:"Toggle Buzzer",value:F}]},{name:"value",display_name:"Value",type:"calculated"},{name:"control",display_name:"Control Stream",description:'Chọn "'+W+'", lệnh điều khiển sẽ được gửi vào stream log của thiết bị. Nếu không, hãy chọn "manual".',type:"option",options:[{name:"Auto",value:W},{name:"Manual",value:X}]},{name:"uri",display_name:"Uri",description:"Nhập vào stream uri, hoặc {data source name} + uri , hoặc full url của control stream",type:"text"},{name:"dimension",display_name:"Dimension",type:"text"},{name:"mapping",display_name:"Object mapping",type:"array",settings:[{name:"seq_number",display_name:"Sequence-number",type:"text"},{name:"object",display_name:"Object",description:"Có thể được định nghĩa ngắn gọn theo cấu trúc {data source name} + uri",type:"calculated"}]},{name:"control_method",display_name:"Control method",description:'Chọn "Common" nếu các đối tượng trong board có chung API(lệnh) điều khiển. Nếu không, hãy chọn "Special" để định nghĩa lệnh điều khiển cho từng phần tử.',type:"option",options:[{name:"Common",value:G},{name:"Special",value:H}]},{name:"msg_on",display_name:'"On" message',type:"text"},{name:"msg_off",display_name:'"Off" message',type:"text"},{name:"msg_buzz",display_name:"Buzz message",type:"text"},{name:"control_method_mapping",display_name:"Control Method Mapping",type:"array",settings:[{name:"Seq_number",display_name:"Sequence-number",type:"text"},{name:"multi_msg_on",display_name:'"On" message',type:"text"},{name:"multi_msg_off",display_name:'"Off" message',type:"text"}]},{name:"authMethod",display_name:"Authentication method",type:"option",options:[{name:"Default",description:"Thông tin authentication sẽ được lấy từ đối tượng data source tương ứng",value:V},{name:"Username",value:R},{name:"APIKey",value:q}]},{name:"username",display_name:"Username",description:"",type:"text"},{name:"password",display_name:"Password",description:"",type:"password"},{name:"apiKey",display_name:"API Key",description:"",type:"text"},{name:"oauth",display_name:"Oauth",description:"",type:"text"}],newInstance:function(e,t){t(new oe(e))}}),$("#board-content").on("click",".add-widget-action",function(){p()}),$("#board-content").on("click","section li",function(){var e=$(B+" select").val();"widget7b4b5457ab0e8cb8f8a6f3e6ca957031"==e?(P(),m(),h()):p()});var ue=j+"type select",se=j+"control select",ce=j+"control_method select";$(document).on("change",ee,function(){$(j+"password input").attr("type","password")});var le=/{([\w\-\s]+)}/g}();